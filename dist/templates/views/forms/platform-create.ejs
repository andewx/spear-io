<form data-overlay-form method="POST" action="/platforms">
  <div class="alert alert-info small mb-3">
    <strong>Note:</strong> All fields with placeholder values are optional but recommended. Enter values or leave empty to use system defaults.
  </div>
  
  <div class="mb-3">
    <label class="form-label">Platform Type</label>
    <select name="type" class="form-select bg-dark text-light border-secondary" required onchange="togglePlatformFields(this.value)">
      <option value="">Select Type...</option>
      <option value="sam">SAM System</option>
      <option value="fighter">Fighter Aircraft</option>
    </select>
  </div>

  <!-- SAM System Fields -->
  <div id="samFields" class="d-none">
    <h6 class="text-primary mt-4">SAM System Configuration</h6>
    
    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label">System ID</label>
        <input type="text" name="sam_id" class="form-control bg-dark text-light border-secondary" value="sam-s400">
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Name</label>
        <input type="text" name="sam_name" class="form-control bg-dark text-light border-secondary" value="S-400 Triumf">
      </div>
    </div>

    <h6 class="text-secondary mt-3">Radar</h6>
    <div class="row">
      <div class="col-md-4 mb-3">
        <label class="form-label">Nominal Range (km)</label>
        <input type="number" name="radar[range]" class="form-control bg-dark text-light border-secondary" value="250">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Frequency (GHz)</label>
        <input type="number" step="0.1" name="radar[frequency]" class="form-control bg-dark text-light border-secondary" value="6.0">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Antenna Gain (dB)</label>
        <input type="number" step="0.1" name="radar[antennaGain]" class="form-control bg-dark text-light border-secondary" value="30">
      </div>
    </div>


    <h6 class="text-secondary mt-3">Missile</h6>
    <div class="row">
      <div class="col-md-4 mb-3">
        <label class="form-label">MEMR (km)</label>
        <input type="number" name="missile[memr]" class="form-control bg-dark text-light border-secondary" value="380">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Velocity (Mach)</label>
        <input type="number" step="0.1" name="missile[vel]" class="form-control bg-dark text-light border-secondary" value="12.0">
      </div>
    </div>
  </div>

  <!-- Fighter Fields -->
  <div id="fighterFields" class="d-none">
    <h6 class="text-primary mt-4">Fighter Aircraft Configuration</h6>
    
    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label">Aircraft ID</label>
        <input type="text" name="fighter_id" class="form-control bg-dark text-light border-secondary" value="fighter-f16">
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Type</label>
        <select name="fighter_type" class="form-select bg-dark text-light border-secondary">
          <option value="F-16">F-16</option>
          <option value="F-22">F-22</option>
          <option value="F-35">F-35</option>
        </select>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Velocity (Mach)</label>
      <input type="number" step="0.1" name="fighter_velocity" class="form-control bg-dark text-light border-secondary" value="1.2">
    </div>

    <h6 class="text-secondary mt-3">RCS Profile (mÂ²)</h6>
    <div class="row">
      <div class="col-md-4 mb-3">
        <label class="form-label">Nose</label>
        <input type="number" step="0.0001" name="rcs[nose]" class="form-control bg-dark text-light border-secondary" value="1.2">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Tail</label>
        <input type="number" step="0.1" name="rcs[tail]" class="form-control bg-dark text-light border-secondary" value="3.5">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Side</label>
        <input type="number" step="0.1" name="rcs[side]" class="form-control bg-dark text-light border-secondary" value="5.0">
      </div>
    </div>

    <h6 class="text-secondary mt-3">HARM</h6>
    <div class="row">
      <div class="col-md-4 mb-3">
        <label class="form-label">Velocity (Mach)</label>
        <input type="number" step="0.1" name="harm[velocity]" class="form-control bg-dark text-light border-secondary" value="2.0">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Range (km)</label>
        <input type="number" name="harm[range]" class="form-control bg-dark text-light border-secondary" value="150">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Launch Strategy</label>
        <select name="harm[launchStrategy][type]" class="form-select bg-dark text-light border-secondary">
          <option value="maxRange" selected>Max Range</option>
          <option value="memrRatio">MEMR Ratio</option>
        </select>
      </div>
    </div>
    <div class="mb-3">
      <label class="form-label">MEMR Ratio (0-1, if using ratio strategy)</label>
      <input type="number" step="0.01" name="harm[launchStrategy][memrRatio]" class="form-control bg-dark text-light border-secondary" value="0.85">
    </div>
  </div>

  <div class="d-flex gap-2 mt-4">
    <button type="submit" class="btn btn-primary flex-fill">Create Platform</button>
    <button type="button" class="btn btn-secondary" onclick="closeOverlay()">Cancel</button>
  </div>
</form>


