<form data-overlay-form method="POST" action="/api/scenarios">
  <h6 class="text-primary mb-3">Basic Information</h6>
  
  <div class="mb-3">
    <label class="form-label">Scenario ID</label>
    <input type="text" name="id" class="form-control bg-dark text-light border-secondary" required placeholder="scenario-04-custom">
  </div>

  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" name="name" class="form-control bg-dark text-light border-secondary" required placeholder="Custom Scenario">
  </div>

  <div class="mb-3">
    <label class="form-label">Description</label>
    <textarea name="description" class="form-control bg-dark text-light border-secondary" rows="2" placeholder="Optional description"></textarea>
  </div>

  <h6 class="text-primary mt-4 mb-3">Grid Configuration</h6>
  
  <div class="row">
    <div class="col-md-4 mb-3">
      <label class="form-label">Width (km)</label>
      <input id="gridWidthInput" bluejs="gridWidth" bluejs-trigger="change" bluejs-binding="gridWidth" type="number" name="grid[width]" class="form-control bg-dark text-light border-secondary" required value="800">
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Height (km)</label>
      <input id="gridHeightInput" bluejs="gridHeight" bluejs-trigger="change" bluejs-binding="gridHeight" type="number" name="grid[height]" class="form-control bg-dark text-light border-secondary" required value="450">
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Grid Resolution (px/km)</label>
      <input type="number" name="grid[resolution]" class="form-control bg-dark text-light border-secondary" required value="2">
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Time Step (sec)</label>
      <input type="number" step="0.1" name="timeStep" class="form-control bg-dark text-light border-secondary" required value="0.5">
    </div>
  </div>

  <h6 class="text-primary mt-4 mb-3">
    SAM Systems
    <button type="button" class="btn btn-sm btn-outline-primary ms-2" onclick="window.addSAMPlatform()">
      <i class="bi bi-plus-circle"></i> Add SAM
    </button>
  </h6>
  
  <div id="sam-platforms-container">
    <!-- SAM platforms will be added here -->
  </div>

  <h6 class="text-primary mt-4 mb-3">
    Fighter Aircraft
    <button type="button" class="btn btn-sm btn-outline-primary ms-2" onclick="window.addFighterPlatform()">
      <i class="bi bi-plus-circle"></i> Add Fighter
    </button>
  </h6>
  
  <div id="fighter-platforms-container">
    <!-- Fighter platforms will be added here -->
  </div>

  <h6 class="text-primary mt-4 mb-3">Environment</h6>
  
  <div class="form-check form-switch mb-3">
    <input class="form-check-input" type="checkbox" name="environment[precipitation][enabled]" id="precipitationEnabled" onchange="window.togglePrecipitation()">
    <label class="form-check-label" for="precipitationEnabled">
      Enable Precipitation
    </label>
  </div>

  <div id="precipitationFields" class="d-none">
    <div class="row">
      <div class="col-md-4 mb-3">
        <label class="form-label">Nominal Rain Rate (mm/hr)</label>
        <input type="number" name="environment[precipitation][nominalRainRate]" class="form-control bg-dark text-light border-secondary" value="10">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Nominal Cell Size (km)</label>
        <input type="number" name="environment[precipitation][nominalCellSize]" class="form-control bg-dark text-light border-secondary" value="12">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Nominal Coverage (%)</label>
        <input type="number" step="0.01" name="environment[precipitation][nominalCoverage]" class="form-control bg-dark text-light border-secondary" value="0.35">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Alpha Distribution</label>
        <input type="number" step="0.01" name="environment[precipitation][alpha]" class="form-control bg-dark text-light border-secondary" value="0.1">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Max Rain Rate Cap</label>
        <input type="number" step="0.1" name="environment[precipitation][maxRainRateCap]" class="form-control bg-dark text-light border-secondary" value="35.0">
      </div>
      <div class="col-md-4 mb-3">
        <label class="form-label">Sigmoid K (Compression)</label>
        <input type="number" step="0.1" name="environment[precipitation][sigmoidK]" class="form-control bg-dark text-light border-secondary" value="10">
      </div>
    </div>
  </div>

  <div class="d-flex gap-2 mt-4">
    <button type="submit" class="btn btn-primary flex-fill">Create Scenario</button>
    <button type="button" class="btn btn-secondary" onclick="closeOverlay()">Cancel</button>
  </div>
</form>

<script>